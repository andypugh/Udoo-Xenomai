***************
*** 20,26 ****
   * With multiple simultaneous hypertransport irq devices it might pay
   * to make this more fine grained.  But start with simple, stupid, and correct.
   */
- static DEFINE_SPINLOCK(ht_irq_lock);
  
  struct ht_irq_cfg {
  	struct pci_dev *dev;
--- 20,26 ----
   * With multiple simultaneous hypertransport irq devices it might pay
   * to make this more fine grained.  But start with simple, stupid, and correct.
   */
+ static IPIPE_DEFINE_SPINLOCK(ht_irq_lock);
  
  struct ht_irq_cfg {
  	struct pci_dev *dev;
