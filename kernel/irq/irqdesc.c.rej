***************
*** 266,275 ****
  	return arch_early_irq_init();
  }
  
  struct irq_desc *irq_to_desc(unsigned int irq)
  {
  	return (irq < NR_IRQS) ? irq_desc + irq : NULL;
  }
  
  static void free_desc(unsigned int irq)
  {
--- 266,277 ----
  	return arch_early_irq_init();
  }
  
+ #ifndef CONFIG_IPIPE
  struct irq_desc *irq_to_desc(unsigned int irq)
  {
  	return (irq < NR_IRQS) ? irq_desc + irq : NULL;
  }
+ #endif /* CONFIG_IPIPE */
  
  static void free_desc(unsigned int irq)
  {
